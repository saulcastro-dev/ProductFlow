{% extends 'base.html' %}

{% block content %}
<section class="is-flex is-justify-content-center" style="min-height: 100vh;">
    <div class="container m-5">
        <div class="has-text-centered mb-4">
            <a class="button is-primary" href="{{ url_for('products.register_product') }}">Registrar Produto</a>
        </div>
        <table class="table is-fullwidth is-striped">
            <thead class="thead">
                <tr class="tr">
                    <th class="th">Nome do Produto</th>
                    <th class="th">Pre√ßo</th>
                    <th class="th">Quantidade</th>
                    <th class="th" colspan="2"></th>
                </tr>
            </thead>
            <tbody class="tbody">
                {% for product in products %}
                    <tr class="tr">
                        <td class="td">{{ product.name }}</td>
                        <td class="td">R$ {{ "%.2f" | format(product.price) }}</td>
                        <td class="td">{{ product.quantity }}</td>
                        <td class="is-flex is-justify-content-center is-align-items-center" colspan="2">
                            <a class="button is-dark mr-2" title="Editar" href="{{ url_for('products.update_product', id=product.id) }}">
                                <span class="icon has-text-info">
                                    <i class="fa-solid fa-pen"></i>
                                </span>
                            </a>
                            <form action="{{ url_for('products.remove_product', id=product.id)}}" method="POST">
                                <button class="button is-dark" title="Remover" type="submit" onclick="return confirm('Tem certeza que deseja remover este produto?');">
                                    <span class="icon has-text-danger">
                                        <i class="fa-solid fa-trash"></i>
                                    </span>
                                </button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
{% endblock %}